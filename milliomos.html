<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Legyen √ñn is Milliomos - Pont visszavon√°s √©s anim√°ci√≥</title>
  <style>
    :root{--bg:#071428;--card:#0f2b45;--accent:#ffd54a;--good:#51cf66;--bad:#ff6b6b}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{margin:0;min-height:100vh;background:radial-gradient(circle at 10% 10%, #082338 0%, var(--bg) 40%);color:#e6f0f6;display:flex;align-items:center;justify-content:center;padding:24px}
    .container{width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:28px;box-shadow:0 8px 30px rgba(3,10,20,0.6);border:1px solid rgba(255,255,255,0.04)}
    header{display:flex;align-items:center;gap:12px}
    .logo{width:72px;height:72px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#ffb84d);display:flex;align-items:center;justify-content:center;color:#082338;font-weight:800;font-size:20px}
    h1{margin:0;font-size:20px}
    .card{margin-top:18px;background:var(--card);padding:22px;border-radius:10px}
    .question{font-size:20px;margin-bottom:18px}
    .answers{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .ans-btn{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));border:1px solid rgba(255,255,255,0.03);padding:14px;border-radius:8px;cursor:pointer;display:flex;gap:12px;align-items:center;font-weight:600;transition:transform .12s ease,box-shadow .12s ease;position:relative;overflow:hidden}
    .ans-btn:active{transform:translateY(1px)}
    .ans-btn.disabled{opacity:0.6;pointer-events:none}
    .letter{width:36px;height:36px;border-radius:8px;background:rgba(255,255,255,0.06);display:inline-flex;align-items:center;justify-content:center;font-weight:700}
    .feedback{margin-top:14px;min-height:26px}
    .correct{background:linear-gradient(90deg, rgba(81,207,102,0.14), rgba(81,207,102,0.06));border:1px solid rgba(81,207,102,0.18)}
    .wrong{background:linear-gradient(90deg, rgba(255,107,107,0.12), rgba(255,107,107,0.04));border:1px solid rgba(255,107,107,0.14)}
    .controls{display:flex;gap:10px;justify-content:flex-end;margin-top:16px;flex-wrap:wrap}
    button.control{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:10px 12px;border-radius:8px;color:#cfe9ff;cursor:pointer;transition:background 0.2s ease, transform 0.1s ease}
    button.control:hover{background:rgba(255,255,255,0.06)}
    button.control:active{transform:scale(0.96)}
    .meta{font-size:13px;opacity:0.8}
    #score{font-weight:bold;color:var(--accent)}
    .points-indicator{position:absolute;top:6px;right:10px;font-size:12px;color:var(--accent);opacity:0.9;transition:transform 0.2s ease, opacity 0.3s ease}
    .flash{animation:flash 0.4s ease}
    @keyframes flash{0%{background-color:rgba(255,213,74,0.2)}100%{background-color:transparent}}
  </style>
</head>
<body>
  <div class="container" role="application" aria-labelledby="title">
    <header>
      <div class="logo">MO</div>
      <div>
        <h1 id="title">Legyen √ñn is Milliomos - Visszavon√°s √©s anim√°ci√≥</h1>
        <div class="meta">Kattints a v√°laszra, hogy pontot tegy√©l r√° (√∂sszesen 10). A ‚ÄûVisszavon√°s‚Äù gombbal egy kor√°bbi pontot vonhatsz vissza. A ‚ÄûMegn√©zem‚Äù gombbal der√ºl ki, j√≥-e!</div>
      </div>
    </header>

    <div class="card" id="game">
      <div class="question" id="question">Bet√∂lt√©s...</div>
      <div class="answers" id="answers"></div>
      <div class="feedback" id="feedback" aria-live="polite"></div>
      <div class="controls">
        <span>√ñsszpont: <span id="score">0</span> / 10</span>
        <button class="control" id="undoBtn">Visszavon√°s</button>
        <button class="control" id="checkBtn">Megn√©zem</button>
        <button class="control" id="nextBtn">K√∂vetkez≈ë k√©rd√©s</button>
        <button class="control" id="resetBtn">√öjra</button>
      </div>
    </div>
  </div>

<script>
  const START_POINTS = 10;

  const questions = [
    { q: 'Melyik √©vben √≠rt√°k al√° a magyar alkotm√°ny jelenlegi v√°ltozat√°t?', options: ['2011', '1990', '2004', '2010'], correctIndex: 0 },
    { q: 'Mi Magyarorsz√°g f≈ëv√°rosa?', options: ['Debrecen','Szeged','P√©cs','Budapest'], correctIndex: 3 },
    { q: 'H√°ny sz√≠ne van a magyar z√°szl√≥nak?', options: ['2','3','4','5'], correctIndex: 1 },
    { q: 'Ki √≠rta a Toldi c√≠m≈± m≈±vet?', options: ['Pet≈ëfi S√°ndor','J√≥kai M√≥r','Arany J√°nos','M√≥ricz Zsigmond'], correctIndex: 2 },
    { q: 'Melyik bolyg√≥ a Naprendszer legnagyobbika?', options: ['Mars','F√∂ld','Jupiter','Szaturnusz'], correctIndex: 2 }
  ];

  let current = 0;
  let totalScore = 0;
  let availablePoints = START_POINTS; // üîπ Aktu√°lisan felhaszn√°lhat√≥ pontok
  let totalPointsPlaced = 0;
  let currentBets = [0,0,0,0];
  let betHistory = [];

  const questionEl = document.getElementById('question');
  const answersEl = document.getElementById('answers');
  const feedbackEl = document.getElementById('feedback');
  const nextBtn = document.getElementById('nextBtn');
  const resetBtn = document.getElementById('resetBtn');
  const checkBtn = document.getElementById('checkBtn');
  const undoBtn = document.getElementById('undoBtn');
  const scoreEl = document.getElementById('score');

  function renderQuestion() {
    const item = questions[current];
    questionEl.textContent = item.q;
    answersEl.innerHTML = '';
    feedbackEl.textContent = '';
    currentBets = [0,0,0,0];
    betHistory = [];
    totalPointsPlaced = 0;

    item.options.forEach((opt, i) => {
      const btn = document.createElement('button');
      btn.className = 'ans-btn';
      btn.setAttribute('data-index', i);
      btn.innerHTML = `<span class="letter">${String.fromCharCode(65+i)}</span>
                       <span class="text">${opt}</span>
                       <span class="points-indicator" id="points-${i}">0</span>`;
      btn.addEventListener('click', () => addPoint(i));
      answersEl.appendChild(btn);
    });

    feedbackEl.textContent = `üéØ El√©rhet≈ë pontok: ${availablePoints}`;
  }

  function addPoint(i) {
    if (totalPointsPlaced >= availablePoints) {
      feedbackEl.textContent = `‚ùå M√°r elhelyezted az √∂sszes (${availablePoints}) pontot!`;
      return;
    }
    currentBets[i]++;
    totalPointsPlaced++;
    betHistory.push(i);
    animateFlash(i);
    updatePointsDisplay(i);
    feedbackEl.textContent = `‚ûï Hozz√°adt√°l 1 pontot (${totalPointsPlaced}/${availablePoints} felhaszn√°lva)`;
  }

  function undoLastPoint() {
    if (betHistory.length === 0) {
      feedbackEl.textContent = '‚ö†Ô∏è Nincs t√∂bb visszavonhat√≥ pont.';
      return;
    }
    const last = betHistory.pop();
    currentBets[last]--;
    totalPointsPlaced--;
    animateFlash(last);
    updatePointsDisplay(last);
    feedbackEl.textContent = `‚Ü©Ô∏è Visszavont√°l 1 pontot (${totalPointsPlaced}/${availablePoints} felhaszn√°lva)`;
  }

  function updatePointsDisplay(i) {
    document.getElementById(`points-${i}`).textContent = currentBets[i];
  }

  function animateFlash(i) {
    const btn = document.querySelectorAll('.ans-btn')[i];
    btn.classList.remove('flash');
    void btn.offsetWidth; // restart animation
    btn.classList.add('flash');
  }

  function checkAnswer() {
    const item = questions[current];
    document.querySelectorAll('.ans-btn').forEach(b => b.classList.add('disabled'));
    const correct = item.correctIndex;
    const correctBtn = document.querySelectorAll('.ans-btn')[correct];
    correctBtn.classList.add('correct');

    let gained = 0;
    let lost = 0;

    currentBets.forEach((bet, i) => {
      if (bet > 0) {
        if (i === correct) {
          gained += bet;
        } else {
          lost += bet;
          document.querySelectorAll('.ans-btn')[i].classList.add('wrong');
        }
      }
    });

    // üîπ Csak a helyes v√°laszokra rakott pontokat adjuk az √∂sszpontsz√°mhoz!
    totalScore += gained;
    availablePoints = gained; // üîπ K√∂vetkez≈ë k√©rd√©sre ennyi pont marad
    scoreEl.textContent = totalScore;

    feedbackEl.textContent = `‚úÖ +${gained} pont | ‚ùå -${lost} pont elveszett ‚Üí K√∂vetkez≈ë k√∂rre marad: ${availablePoints}`;
  }

  nextBtn.addEventListener('click', () => {
    if (availablePoints <= 0) {
      feedbackEl.textContent = 'üíÄ Nincs t√∂bb megmaradt pontod ‚Äî a j√°t√©k v√©get √©rt!';
      document.querySelectorAll('.ans-btn').forEach(b => b.classList.add('disabled'));
      return;
    }
    current = (current + 1) % questions.length;
    renderQuestion();
  });

  resetBtn.addEventListener('click', () => {
    current = 0;
    totalScore = 0;
    availablePoints = START_POINTS;
    scoreEl.textContent = 0;
    renderQuestion();
  });

  checkBtn.addEventListener('click', checkAnswer);
  undoBtn.addEventListener('click', undoLastPoint);

  renderQuestion();
</script>



</body>
</html>






