<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legyen √ñn is Milliomos</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg1: #071428;
            --bg2: #0f2b45;
            --accent: #ffd54a;
            --good: #51cf66;
            --bad: #ff6b6b;
        }

        * {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at 20% 30%, #082338 0%, var(--bg1) 80%);
            position: relative;
            overflow: hidden;
            padding: 20px;
        }

        /* Csillagos h√°tt√©r */
        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            opacity: 0.7;
            animation: moveStar linear infinite;
        }

        @keyframes moveStar {
            from {
                transform: translateY(0) translateX(0);
            }
            to {
                transform: translateY(-1000px) translateX(50px);
            }
        }

        /* El√©rhet≈ë pi√°k a k√©perny≈ë tetej√©n */
        .beer-counter {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg2);
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--accent);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 15px;
            min-width: 200px;
            justify-content: center;
        }

        .beer-counter-content {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: #fff;
        }

        .beer-icon {
            font-size: 32px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .beer-count {
            font-size: 28px;
            font-weight: 800;
            color: var(--accent);
            min-width: 40px;
            text-align: center;
        }

        .main-content {
            display: flex;
            gap: 30px;
            width: 100%;
            max-width: 1400px;
            align-items: flex-start;
            margin-top: 80px;
        }

        .container {
            position: relative;
            z-index: 1;
            flex: 1;
            min-width: 0;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 40px rgba(3, 10, 20, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.04);
            animation: fadeIn 1s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .logo {
            width: 90px;
            height: 90px;
            border-radius: 15px;
            background: linear-gradient(135deg, var(--accent), #ffb84d);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 28px;
            color: #071428;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            flex-shrink: 0;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
        }

        .header-text {
            flex: 1;
        }

        h1 {
            font-size: 28px;
            margin: 0;
            color: #fff;
        }

        .meta {
            color: rgba(255, 255, 255, 0.7);
            font-size: 16px;
            margin-top: 8px;
            line-height: 1.4;
        }

        .question-container {
            background: var(--bg2);
            padding: 40px;
            border-radius: 18px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            margin-bottom: 30px;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .question {
            font-size: 32px;
            color: #fff;
            font-weight: 600;
            line-height: 1.4;
        }

        .answers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .ans-btn {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(0, 0, 0, 0.06));
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            gap: 20px;
            align-items: center;
            font-weight: 600;
            transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
            position: relative;
            overflow: hidden;
            min-height: 100px;
        }

        .ans-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }

        .ans-btn:active {
            transform: translateY(1px);
        }

        .ans-btn.disabled {
            opacity: 0.6;
            pointer-events: none;
        }

        .ans-btn .text {
            color: #ffffff;
            flex: 1;
            font-size: 20px;
        }

        .letter {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #fff;
            font-size: 20px;
            flex-shrink: 0;
            position: relative;
        }

        .beer-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--accent);
            color: #071428;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 800;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            animation: popIn 0.3s ease-out;
        }

        .cups {
            position: absolute;
            bottom: 15px;
            right: 20px;
            display: flex;
            gap: 5px;
            font-size: 20px;
        }

        .beer {
            font-size: 24px;
            opacity: 0;
            transform: translateY(8px) scale(0.6);
            animation: popIn 0.3s forwards ease-out;
        }

        @keyframes popIn {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .beer.remove {
            animation: popOut 0.25s forwards ease-in;
        }

        @keyframes popOut {
            to {
                opacity: 0;
                transform: translateY(10px) scale(0.5);
            }
        }

        .feedback {
            margin-top: 25px;
            min-height: 35px;
            font-size: 18px;
            color: #ffd54a;
            text-align: center;
            padding: 15px;
            background: rgba(255, 213, 74, 0.1);
            border-radius: 10px;
        }

        .correct {
            background: linear-gradient(90deg, rgba(81, 207, 102, 0.15), rgba(81, 207, 102, 0.06));
            border: 1px solid rgba(81, 207, 102, 0.18);
        }

        .wrong {
            background: linear-gradient(90deg, rgba(255, 107, 107, 0.12), rgba(255, 107, 107, 0.04));
            border: 1px solid rgba(255, 107, 107, 0.14);
        }

        .controls {
            display: flex;
            gap: 20px;
            justify-content: flex-end;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .control-buttons {
            display: flex;
            gap: 15px;
        }

        button.control {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(0, 0, 0, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.06);
            padding: 15px 25px;
            border-radius: 10px;
            color: #cfe9ff;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            font-size: 16px;
        }

        button.control:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        button.control:active {
            transform: scale(0.95);
        }

        button.control.primary {
            background: linear-gradient(135deg, var(--accent), #ffb84d);
            color: #071428;
        }

        button.control.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        /* L√©pcs≈ës megjelen√≠t√©s a k√©perny≈ë sz√©l√©n */
        .progress-ladder {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 220px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 25px 15px;
            background: var(--bg2);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 10;
            max-height: 80vh;
            overflow-y: auto;
        }

        .ladder-step {
            width: 100%;
            padding: 15px;
            margin: 6px 0;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .ladder-step.current {
            background: rgba(255, 213, 74, 0.2);
            border: 1px solid var(--accent);
            transform: scale(1.05);
        }

        .ladder-step.correct {
            background: rgba(81, 207, 102, 0.2);
            border: 1px solid var(--good);
        }

        .ladder-step-number {
            font-size: 15px;
            opacity: 0.7;
        }

        .ladder-step-value {
            font-size: 16px;
        }

        .ladder-step-indicator {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .ladder-step.correct .ladder-step-indicator {
            background: var(--good);
        }

        .ladder-step.current .ladder-step-indicator {
            background: var(--accent);
        }

        /* Overlay-ek */
        #start-overlay, .game-over-overlay, .win-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #fff;
            z-index: 9999;
            font-family: 'Inter';
        }

        #start-overlay {
            background: rgba(0, 0, 0, 0.85);
        }

        #start-overlay h2 {
            font-size: 32px;
            margin-bottom: 20px;
        }

        #start-overlay button {
            padding: 12px 24px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            background: var(--accent);
            color: #071428;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        #start-overlay button:hover {
            transform: scale(1.05);
        }

        .game-over-overlay {
            background: rgba(0, 0, 0, 0.85);
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
            justify-content: center;
            align-items: center;
        }

        .win-overlay {
            background: rgba(0, 0, 0, 0.85);
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
            justify-content: center;
            align-items: center;
        }

        .game-over-box, .win-box {
            background: var(--bg2);
            border: 2px solid var(--accent);
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            color: #fff;
            transform: scale(0.8);
            transition: transform 0.5s ease;
            max-width: 500px;
            width: 90%;
        }

        .win-box {
            border: 2px solid var(--good);
            background: linear-gradient(135deg, var(--bg2), rgba(81, 207, 102, 0.1));
        }

        .game-over-box h2, .win-box h2 {
            margin-bottom: 16px;
            font-size: 28px;
        }

        .win-box h2 {
            color: var(--good);
            font-size: 36px;
            margin-bottom: 20px;
        }

        .game-over-box p, .win-box p {
            margin-bottom: 20px;
            font-size: 18px;
            line-height: 1.5;
        }

        .win-box p {
            font-size: 20px;
            color: #fff;
        }

        .game-over-box button, .win-box button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background: var(--accent);
            color: #071428;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease;
            font-size: 16px;
            margin: 5px;
        }

        .win-box button {
            background: var(--good);
            color: #fff;
        }

        .game-over-box button:hover, .win-box button:hover {
            transform: scale(1.05);
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: var(--accent);
            opacity: 0;
            z-index: 9998;
        }

        /* Piros flash j√°t√©k v√©gekor */
        body.game-over-flash::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 0, 0, 0.5);
            z-index: 9000;
            pointer-events: none;
            animation: redFlash 2s ease forwards;
        }

        @keyframes redFlash {
            0% {
                background: rgba(255, 0, 0, 0.8);
            }
            50% {
                background: rgba(255, 0, 0, 0.5);
            }
            100% {
                background: rgba(255, 0, 0, 0);
            }
        }

        /* Z√∂ld flash helyes v√°lasz eset√©n */
        body.correct-answer-flash::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(81, 207, 102, 0.5);
            z-index: 9000;
            pointer-events: none;
            animation: greenFlash 1.5s ease forwards;
        }

        @keyframes greenFlash {
            0% {
                background: rgba(81, 207, 102, 0.8);
            }
            50% {
                background: rgba(81, 207, 102, 0.5);
            }
            100% {
                background: rgba(81, 207, 102, 0);
            }
        }

        /* Reszponz√≠v design */
        @media (max-width: 1400px) {
            .main-content {
                max-width: 1200px;
            }
            
            .container {
                padding: 35px;
            }
            
            .question {
                font-size: 28px;
            }
            
            .ans-btn {
                padding: 22px;
                min-height: 90px;
            }
        }

        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
                align-items: center;
            }
            
            .progress-ladder {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                width: 100%;
                max-width: 900px;
                margin-top: 30px;
                flex-direction: row;
                overflow-x: auto;
                padding: 20px 15px;
                max-height: none;
            }
            
            .ladder-step {
                min-width: 140px;
                margin: 0 8px;
                flex-direction: column;
            }
        }

        @media (max-width: 768px) {
            .beer-counter {
                top: 10px;
                padding: 12px 20px;
                min-width: 180px;
            }
            
            .beer-counter-content {
                font-size: 20px;
            }
            
            .beer-icon {
                font-size: 28px;
            }
            
            .beer-count {
                font-size: 24px;
            }
            
            .main-content {
                margin-top: 100px;
            }
            
            .answers {
                grid-template-columns: 1fr;
            }
            
            .question {
                font-size: 24px;
            }
            
            .question-container {
                padding: 30px;
                min-height: 140px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-buttons {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .progress-ladder {
                flex-direction: column;
                overflow-x: visible;
                overflow-y: auto;
                max-height: 200px;
            }
            
            .ladder-step {
                min-width: auto;
                margin: 4px 0;
                flex-direction: row;
            }
            
            header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .logo {
                width: 80px;
                height: 80px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .win-box, .game-over-box {
                padding: 30px 20px;
                margin: 20px;
            }
            
            .win-box h2 {
                font-size: 28px;
            }
            
            .button-group {
                flex-direction: column;
                width: 100%;
            }
            
            .button-group button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- El√©rhet≈ë pi√°k a k√©perny≈ë tetej√©n -->
    <div class="beer-counter">
        <div class="beer-counter-content">
            <span class="beer-icon">üç∫</span>
            <span>El√©rhet≈ë pi√°k:</span>
            <span class="beer-count" id="availableBeers">10</span>
        </div>
    </div>

    <div class="stars"></div>

    <div class="main-content">
        <div class="container">
            <header>
                <div class="logo">
                    <!-- Ide j√∂n a k√©p - cser√©ld le a k√≠v√°nt k√©pre -->
                    <img src="Screenshot_20211016-214642_Messenger.jpg" alt="Legyen √ñn is Milliomos log√≥">
                </div>
                <div class="header-text">
                    <h1>Meg kell inni!</h1>
                </div>
            </header>
            
            <div class="question-container">
                <div class="question" id="question">A naprendszer t√∂meg√©nek h√°ny sz√°zal√©k√°t teszi ki a nap?</div>
            </div>
            
            <div class="answers" id="answers">
                <button class="ans-btn" data-index="0">
                    <span class="letter">A</span>
                    <span class="text">64,3%</span>
                    <div class="cups" id="cups-0"></div>
                </button>
                <button class="ans-btn" data-index="1">
                    <span class="letter">B</span>
                    <span class="text">92,3%</span>
                    <div class="cups" id="cups-1"></div>
                </button>
                <button class="ans-btn" data-index="2">
                    <span class="letter">C</span>
                    <span class="text">99,8%</span>
                    <div class="cups" id="cups-2"></div>
                </button>
                <button class="ans-btn" data-index="3">
                    <span class="letter">D</span>
                    <span class="text">78,5%</span>
                    <div class="cups" id="cups-3"></div>
                </button>
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <div class="controls">
                <div class="control-buttons">
                    <button class="control" id="undoBtn">Visszavon√°s</button>
                    <button class="control" id="checkBtn">Megn√©zem</button>
                    <button class="control primary disabled" id="nextBtn">K√∂vetkez≈ë k√©rd√©s</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- L√©pcs≈ës megjelen√≠t√©s a k√©perny≈ë jobb sz√©l√©n -->
    <div class="progress-ladder" id="progressLadder">
        <!-- A l√©pcs≈ëk JavaScript-el gener√°l√≥dnak -->
    </div>

    <div id="start-overlay" style="display:none">
        <h2>üéØ K√©szen √°llsz?</h2>
        <button id="startBtn">Ind√≠t√°s</button>
    </div>

    <div class="game-over-overlay" id="gameOverOverlay">
        <div class="game-over-box">
            <h2>üéÆ J√°t√©k v√©ge!</h2>
            <p id="finalScoreText"></p>
            <div class="button-group">
                <button id="restartBtn">√öj j√°t√©k</button>
                <button id="backToHomeBtn">Vissza a f≈ëoldalra</button>
            </div>
        </div>
    </div>

    <!-- Nyert√©l felugr√≥ ablak -->
    <div class="win-overlay" id="winOverlay">
        <div class="win-box">
            <h2>üéâ NYERT√âL! üéâ</h2>
            <p>Nyert√©l cig√°ny!</p>
            <p>A nyerem√©nyed egy tal√°lkoz√≥ az √∂rj√∂ng≈ë √∂t√∂ssel üèÜ</p>
            <div class="button-group">
                <button id="winRestartBtn">√öj j√°t√©k</button>
                <button id="winBackToHomeBtn">Vissza a f≈ëoldalra</button>
            </div>
        </div>
    </div>

    <script>
        // Csillagok gener√°l√°sa
        const starsContainer = document.querySelector('.stars');
        for (let i = 0; i < 100; i++) {
            const s = document.createElement('div');
            s.className = 'star';
            s.style.top = Math.random() * window.innerHeight + 'px';
            s.style.left = Math.random() * window.innerWidth + 'px';
            s.style.width = (Math.random() * 2 + 1) + 'px';
            s.style.height = s.style.width;
            s.style.animationDuration = (Math.random() * 30 + 20) + 's';
            starsContainer.appendChild(s);
        }

        // J√°t√©k√°llapot
        const START_POINTS = 10;
        const questions = [
            {
                q: 'A naprendszer t√∂meg√©nek h√°ny sz√°zal√©k√°t teszi ki a nap?',
                options: ['64,3%', '92,3%', '99,8%', '78,5%'],
                correctIndex: 2 // 99,8% a helyes v√°lasz
            },
            {
                q: 'Melyik bolyg√≥ a legnagyobb a Naprendszerben?',
                options: ['F√∂ld', 'Mars', 'Jupiter', 'Szaturnusz'],
                correctIndex: 2
            },
            {
                q: 'H√°ny holdja van a F√∂ldnek?',
                options: ['0', '1', '2', '3'],
                correctIndex: 1
            },
            {
                q: 'Melyik bolyg√≥t nevezik "V√∂r√∂s Bolyg√≥nak"?',
                options: ['V√©nusz', 'Mars', 'Jupiter', 'Merk√∫r'],
                correctIndex: 1
            },
            {
                q: 'Melyik bolyg√≥ forog ellent√©tes ir√°nyba, mint a legt√∂bb m√°sik?',
                options: ['V√©nusz', 'Mars', 'Ur√°nusz', 'Neptunusz'],
                correctIndex: 0
            },            {
                q: 'Melyik bolyg√≥t nevezik "V√∂r√∂s Bolyg√≥nak"?',
                options: ['V√©nusz', 'Mars', 'Jupiter', 'Merk√∫r'],
                correctIndex: 1
            },            {
                q: 'Melyik bolyg√≥t nevezik "V√∂r√∂s Bolyg√≥nak"?',
                options: ['V√©nusz', 'Mars', 'Jupiter', 'Merk√∫r'],
                correctIndex: 1
            },            {
                q: 'Melyik bolyg√≥t nevezik "V√∂r√∂s Bolyg√≥nak"?',
                options: ['V√©nusz', 'Mars', 'Jupiter', 'Merk√∫r'],
                correctIndex: 1
            },            {
                q: 'Melyik bolyg√≥t nevezik "V√∂r√∂s Bolyg√≥nak"?',
                options: ['V√©nusz', 'Mars', 'Jupiter', 'Merk√∫r'],
                correctIndex: 1
            },            {
                q: 'Melyik bolyg√≥t nevezik "V√∂r√∂s Bolyg√≥nak"?',
                options: ['V√©nusz', 'Mars', 'Jupiter', 'Merk√∫r'],
                correctIndex: 1
            },
        ];

        let currentQuestion = 0;
        let availablePoints = START_POINTS;
        let totalPointsPlaced = 0;
        let currentBets = [0, 0, 0, 0];
        let betHistory = [];
        let gameOver = false;
        let finalScore = 0;
        let answerChecked = false;
        let correctAnswers = [];

        // DOM elemek
        const qEl = document.getElementById('question');
        const aEl = document.getElementById('answers');
        const fEl = document.getElementById('feedback');
        const checkBtn = document.getElementById('checkBtn');
        const undoBtn = document.getElementById('undoBtn');
        const nextBtn = document.getElementById('nextBtn');
        const startOverlay = document.getElementById('start-overlay');
        const startBtn = document.getElementById('startBtn');
        const gameOverOverlay = document.getElementById('gameOverOverlay');
        const finalScoreText = document.getElementById('finalScoreText');
        const restartBtn = document.getElementById('restartBtn');
        const backToHomeBtn = document.getElementById('backToHomeBtn');
        const progressLadder = document.getElementById('progressLadder');
        const availableBeersEl = document.getElementById('availableBeers');
        const winOverlay = document.getElementById('winOverlay');
        const winRestartBtn = document.getElementById('winRestartBtn');
        const winBackToHomeBtn = document.getElementById('winBackToHomeBtn');

        // Visszair√°ny√≠t√°s a f≈ëoldalra
        function goToHomePage() {
            window.location.href = 'index.html';
        }

        // Konfetti effekt
        function createConfetti() {
            const colors = ['#ffd54a', '#51cf66', '#ff6b6b', '#4dabf7', '#da77f2'];
            const confettiCount = 150;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-20px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(confetti);
                
                const animation = confetti.animate([
                    { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
                    { transform: `translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 720}deg)`, opacity: 0 }
                ], {
                    duration: 2000 + Math.random() * 3000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }

        // Pi√°k sz√°ml√°l√≥ friss√≠t√©se a v√°laszok bet≈±i mellett
        function updateBeerBadges() {
            const ansButtons = document.querySelectorAll('.ans-btn');
            ansButtons.forEach((btn, index) => {
                let badge = btn.querySelector('.beer-badge');
                if (!badge && currentBets[index] > 0) {
                    badge = document.createElement('span');
                    badge.className = 'beer-badge';
                    btn.querySelector('.letter').appendChild(badge);
                }
                
                if (badge) {
                    if (currentBets[index] > 0) {
                        badge.textContent = currentBets[index];
                    } else {
                        badge.remove();
                    }
                }
            });
        }

        // El√©rhet≈ë pi√°k friss√≠t√©se
        function updateAvailableBeers() {
            availableBeersEl.textContent = availablePoints;
        }

        // L√©pcs≈ës megjelen√≠t√©s inicializ√°l√°sa
        function initProgressLadder() {
            progressLadder.innerHTML = '';
            for (let i = 0; i < questions.length; i++) {
                const step = document.createElement('div');
                step.className = 'ladder-step';
                step.innerHTML = `
                    <span class="ladder-step-number">${i + 1}. k√©rd√©s</span>
                    <span class="ladder-step-indicator"></span>
                `;
                progressLadder.appendChild(step);
            }
            updateProgressLadder();
        }

        // L√©pcs≈ës megjelen√≠t√©s friss√≠t√©se
        function updateProgressLadder() {
            const steps = progressLadder.querySelectorAll('.ladder-step');
            steps.forEach((step, index) => {
                step.classList.remove('current', 'correct');
                
                if (index === currentQuestion) {
                    step.classList.add('current');
                }
                
                if (correctAnswers.includes(index)) {
                    step.classList.add('correct');
                }
            });
        }

        // Z√∂ld flash effekt
        function triggerGreenFlash() {
            document.body.classList.add('correct-answer-flash');
            setTimeout(() => {
                document.body.classList.remove('correct-answer-flash');
            }, 1500);
        }

        // Nyert√©l felugr√≥ ablak
        function showWinScreen() {
            winOverlay.style.display = 'flex';
            setTimeout(() => {
                winOverlay.style.opacity = '1';
                createConfetti();
            }, 100);
        }

        // Ellen≈ërzi, hogy minden k√©rd√©sre helyesen v√°laszolt-e
        function checkIfAllCorrect() {
            return correctAnswers.length === questions.length && availablePoints > 0;
        }

        // K√©rd√©s megjelen√≠t√©se
        function renderQuestion() {
            if (gameOver) return;
            const item = questions[currentQuestion];
            qEl.textContent = item.q;
            aEl.innerHTML = '';
            fEl.textContent = '';
            currentBets = [0, 0, 0, 0];
            betHistory = [];
            totalPointsPlaced = 0;
            answerChecked = false;
            
            // K√∂vetkez≈ë k√©rd√©s gomb letilt√°sa
            nextBtn.classList.add('disabled');

            item.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'ans-btn';
                btn.setAttribute('data-index', i);
                btn.innerHTML = `
                    <span class="letter">${String.fromCharCode(65 + i)}</span>
                    <span class="text">${opt}</span>
                    <div class="cups" id="cups-${i}"></div>
                `;
                btn.addEventListener('click', () => addPoint(i));
                aEl.appendChild(btn);
            });

            updateAvailableBeers();
            updateProgressLadder();
        }

        // Pont hozz√°ad√°sa egy v√°laszhoz
        function addPoint(i) {
            if (totalPointsPlaced >= availablePoints) {
                fEl.textContent = `‚ùå M√°r elhelyezted az √∂sszes (${availablePoints}) pi√°t!`;
                return;
            }
            currentBets[i]++;
            totalPointsPlaced++;
            betHistory.push(i);

            const cupsEl = document.getElementById(`cups-${i}`);
            const beer = document.createElement('span');
            beer.className = 'beer';
            beer.textContent = 'üç∫';
            cupsEl.appendChild(beer);

            updateAvailableBeers();
            updateBeerBadges();
        }

        // Utols√≥ pont visszavon√°sa
        function undoLastPoint() {
            if (betHistory.length === 0) {
                fEl.textContent = '‚ö†Ô∏è Nincs t√∂bb visszavonhat√≥ pia.';
                return;
            }
            const last = betHistory.pop();
            currentBets[last]--;
            totalPointsPlaced--;
            const cupsEl = document.getElementById(`cups-${last}`);
            const beers = cupsEl.querySelectorAll('.beer');
            if (beers.length > 0) {
                const lastBeer = beers[beers.length - 1];
                lastBeer.classList.add('remove');
                setTimeout(() => lastBeer.remove(), 200);
            }
            updateAvailableBeers();
            updateBeerBadges();
        }

        // V√°lasz ellen≈ërz√©se
        function checkAnswer() {
            if (gameOver) return;
            const item = questions[currentQuestion];
            document.querySelectorAll('.ans-btn').forEach(b => b.classList.add('disabled'));
            const correct = item.correctIndex;
            document.querySelectorAll('.ans-btn')[correct].classList.add('correct');

            let gainedPoints = currentBets[correct];
            if (gainedPoints > 0) {
                finalScore++;
                correctAnswers.push(currentQuestion);
                // Z√∂ld flash effekt
                triggerGreenFlash();
            }
            availablePoints = gainedPoints;

            currentBets.forEach((bet, i) => {
                if (bet > 0 && i !== correct) document.querySelectorAll('.ans-btn')[i].classList.add('wrong');
            });

            // K√∂vetkez≈ë k√©rd√©s gomb aktiv√°l√°sa
            nextBtn.classList.remove('disabled');
            answerChecked = true;

            // Ellen≈ërizz√ºk, hogy minden k√©rd√©sre helyesen v√°laszolt-e
            if (checkIfAllCorrect()) {
                setTimeout(showWinScreen, 500);
            } else if (availablePoints <= 0) {
                setTimeout(endGame, 500);
            } else {
                fEl.textContent = `‚úÖ Tov√°bbjut√°s! K√∂vetkez≈ë k√©rd√©sre marad: ${availablePoints} pia`;
            }
            
            updateAvailableBeers();
            updateProgressLadder();
        }

        // K√∂vetkez≈ë k√©rd√©s
        function nextQuestion() {
            if (gameOver || availablePoints <= 0 || !answerChecked) return;
            currentQuestion++;
            if (currentQuestion >= questions.length) {
                // Ellen≈ërizz√ºk, hogy minden k√©rd√©sre helyesen v√°laszolt-e
                if (checkIfAllCorrect()) {
                    showWinScreen();
                } else {
                    endGame();
                }
                return;
            }
            renderQuestion();
        }

        // J√°t√©k √∫jraind√≠t√°sa
        function resetGame() {
            document.body.classList.remove('game-over-flash');
            currentQuestion = 0;
            finalScore = 0;
            availablePoints = START_POINTS;
            gameOver = false;
            correctAnswers = [];
            gameOverOverlay.style.display = 'none';
            winOverlay.style.display = 'none';
            updateAvailableBeers();
            initProgressLadder();
            renderQuestion();
        }

        // J√°t√©k v√©ge
        function endGame() {
            gameOver = true;
            document.body.classList.add('game-over-flash');
            gameOverOverlay.style.display = 'flex';
            gameOverOverlay.style.opacity = 1;
            finalScoreText.textContent = `${questions.length} k√©rd√©sb≈ël ${finalScore} k√©rd√©sen jutott√°l t√∫l pozit√≠v pi√°val.`;
        }

        // Esem√©nykezel≈ëk
        nextBtn.onclick = nextQuestion;
        checkBtn.onclick = checkAnswer;
        undoBtn.onclick = undoLastPoint;
        restartBtn.onclick = resetGame;
        winRestartBtn.onclick = resetGame;
        backToHomeBtn.onclick = goToHomePage;
        winBackToHomeBtn.onclick = goToHomePage;
        startBtn.onclick = () => {
            startOverlay.style.display = 'none';
            updateAvailableBeers();
            initProgressLadder();
            renderQuestion();
        };

        // Kezdeti k√©rd√©s bet√∂lt√©se
        updateAvailableBeers();
        initProgressLadder();
        renderQuestion();
    </script>
</body>
</html>
